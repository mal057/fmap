name = "fmap-api"
main = "src/index.ts"
compatibility_date = "2023-12-18"

# R2 bucket binding
[[r2_buckets]]
binding = "WAYPOINTS_BUCKET"
bucket_name = "fmap-waypoints"
preview_bucket_name = "fmap-waypoints-preview"

# Environment variables (secrets should be set via wrangler secret put)
[vars]
ENVIRONMENT = "development"

# Production environment
[env.production]
name = "fmap-api-production"
vars = { ENVIRONMENT = "production" }

# CORS configuration
[cors]
origins = ["*"]
methods = ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
allow_headers = ["Content-Type", "Authorization"]
